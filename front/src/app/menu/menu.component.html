<body>
<iframe allowfullscreen
        class="giff"
        height="100%"
        src="https://gifer.com/embed/14ba"
        style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; border: none; margin: 0; padding: 0; overflow: hidden; z-index: -1;"
        width="100%"
></iframe>
<h1>Joueurs</h1>
<form (ngSubmit)="onSubmit()" [formGroup]="users">
  <ng-container *ngFor="let player of getControlNames(users); let i = index">
    <div class="container">

      <div class="texte">

        <h3>Joueur {{ i + 1 }}</h3>
        <div class="pseudo">
          <div formGroupName="{{player}}">
            <label for="pseudo">Pseudo :</label>
            <mat-form-field class="example-full-width">
              <mat-label>Pseudo</mat-label>
              <input formControlName="pseudo" id="pseudo" matInput required type="text">
            </mat-form-field>
          </div>
        </div>

        <div class="img_choix" formGroupName="{{player}}">
          <label for="image_path">Image de profil :</label>
          <mat-form-field>
            <mat-select (selectionChange)="updateImage(i, $event)" formControlName="image_path_display" id="image_path">

              <mat-option *ngFor="let field of fields" [value]="field">
                {{field}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <div>
        <img [src]="getImageUrl(i)" alt="Image">
      </div>

    </div>
  </ng-container>



  <app-button-big (click)="onSubmit()" label="Jouer"></app-button-big>


</form>
</body>
<router-outlet></router-outlet>
