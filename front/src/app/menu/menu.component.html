<body>
<iframe
  src="https://gifer.com/embed/14ba"
  width="100%"
  height="100%"
  style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; border: none; margin: 0; padding: 0; overflow: hidden; z-index: -1;"
  allowfullscreen
></iframe>
<form [formGroup]="users" (ngSubmit)="onSubmit()">
  <ng-container *ngFor="let player of getControlNames(users); let i = index">

      <h3>Joueur {{ i + 1 }}</h3>

      <div formGroupName="{{player}}">
        <label for="pseudo">Pseudo:</label>
        <input type="text" id="pseudo" formControlName="pseudo" required>
      </div>

      <div formGroupName="{{player}}">
        <label for="image_path">Image de profil :</label>
        <select id="image_path" formControlName="image_path" (change)="updateImage(i, $event)">
          <option [value]="getImageUrl(i)" selected>{{getKeyByValue(getImageUrl(i))}}</option>
          <option *ngFor="let field of fields" [value]="field">{{field}}</option>
        </select>
      </div>

      <div>
        <img [src]="getImageUrl(i)"  alt="Image">
      </div>
  </ng-container>

  <div class="image-container">
    <img src="assets/bettrave.png" alt="Description de l'image" (click)="onSubmit()" />
    <div class="texte-sur-image">JOUER</div>
  </div>
</form>
</body>
<router-outlet></router-outlet>
